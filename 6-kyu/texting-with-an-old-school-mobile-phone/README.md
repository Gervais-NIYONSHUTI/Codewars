<h2><a href=https://www.codewars.com/kata/5ca24526b534ce0018a137b5/train/java target="_blank">Texting with an old-school mobile phone</a></h2><h3>6 kyu</h3><p>If you're old enough, you might remember buying your first mobile phone, one of the old ones with no touchscreen, and sending your first text message with excitement in your eyes. Maybe you still have one lying in a drawer somewhere.</p><p>Let's try to remember the good old days and what it was like to send text messages with such devices. A lot of them had different layouts, most notably for special characters and spaces, so for simplicity we'll be using a fictional model with 3x4 key layout shown below:</p><pre><code>-------------------------|   1   |   2   |   3   |  &lt;-- hold a key to type a number|  .,?! |  abc  |  def  |  &lt;-- press a key to type a letter-------------------------|   4   |   5   |   6   |  &lt;-- Top row|  ghi  |  jkl  |  mno  |  &lt;-- Bottom row-------------------------|   7   |   8   |   9   ||  pqrs |  tuv  |  wxyz |-------------------------|   *   |   0   |   #   |  &lt;-- hold for *, 0 or #|  '-+= | space |  case |  &lt;-- press # to switch between upper/lower case-------------------------</code></pre><h1 id="the-task">The task</h1><p>You got your thumb ready to go, so you'll receive a <code>message</code> and your job is to figure out which keys you need to press to output the given message with <em><strong>the lowest number of clicks possible</strong></em>. Return the result as a string of key inputs from top row (refer to diagram above).</p><p><em><strong>Take your time</strong></em> to study the rules below.</p><h1 id="how-it-works">How it works</h1><h3 id="result">Result</h3><p>Output string contains inputs that are shown at the <strong>top</strong> row of a key's layout. (<code>0-9*#</code>)</p><h3 id="typing-letters">Typing letters</h3><p>To type letters, press a button repeatedly to cycle through the possible characters (bottom row of a key's layout). Pressing is represented by key's top row element repeated <code>n</code> times, where n is the position of character on that particular key. Examples: </p><ul><li><code>2</code> =&gt; 'a', <code>9999</code> =&gt; 'z', <code>111</code> =&gt; '?', <code>***</code> =&gt; '+'</li></ul><h3 id="typing-numbers">Typing numbers</h3><p>To type numbers <code>0-9</code> and special characters <code>*#</code> - hold that key. Holding is represented by a number, followed by a dash. Examples:</p><ul><li><code>3-</code> =&gt; '3', <code>5-5-5-</code> =&gt; '555'</li></ul><h3 id="uppercase--lowercase">Uppercase / Lowercase</h3><p>Initially the case is <code>lowercase</code>. To <em><strong>toggle</strong></em> between lowercase and uppercase letters, use the <code>#</code> symbol. Case switching should only be considered when next character is alphabetic (<code>a-z</code>). Examples:</p><ul><li><code>#2#9999</code> =&gt; 'Az' (remember, it's a toggle)</li><li><code>27-#2255</code> =&gt; 'a7BK' (do not switch before '7')</li></ul><h3 id="waiting-for-next-character">Waiting for next character</h3><p>If you have 2 or more characters in a sequence that reside on the same button (refer to layout, bottom row), you have to <em><strong>wait</strong></em> before pressing the same button again. Waiting is represented by adding a <strong>space</strong> between 2 (or more) such characters. Example:</p><ul><li><code>44 444 44 444</code> =&gt; 'hihi'</li></ul><p><strong>Exceptions</strong>: No need to wait <strong>after holding</strong> any key, even if next character resides on same button (<code>4-4</code> =&gt; '4g'), or if there's a case switch between 2 characters on same button (<code>#5#55</code> =&gt; 'Jk').</p><h1 id="example">Example</h1><p>To put it all together, let's go over an example.Say you want to type this message - <code>'Def Con 1!'</code>:</p><ul><li>Switch to uppercase with <code>#</code> and press <code>3</code> (<code>#3 =&gt; D</code>) (input is now in uppercase mode)</li><li>Switch to lowercase and press <code>3</code> twice (<code>#33 =&gt; e</code>). (Note that there is no <strong>waiting</strong> because of case switching)</li><li>Next character <code>f</code> is on button <code>3</code> again, and has the same case (lowercase input and lowercase character), so you have to wait to type again (<code>' 333' =&gt; f</code>).</li><li>In a similar manner type the second word (space is located on number <code>0</code>). <code>0#222#666 660 =&gt; ' Con '</code></li><li>Finish off by holding <code>1</code> as <code>1-</code> and typing <code>!</code> as <code>1111</code> (<code>'1-1111' = 1!</code>). Note that after holding a key you don't need to wait to press another key.</li></ul><h2 id="result-1">Result:</h2><p><code>sendMessage("Def Con 1!") =&gt; "#3#33 3330#222#666 6601-1111" </code></p><p>More examples are provided in sample test suite.</p><p>All inputs will be valid strings and only consist of characters from the key layout table.</p><h3 id="good-luck">Good luck!</h3><p>Also check out other cool katas that inspired this one:</p><ul><li><a href="https://www.codewars.com/kata/multi-tap-keypad-text-entry-on-an-old-mobile-phone" data-turbolinks="false" target="_blank">Multi-tap Keypad Text Entry on an Old Mobile Phone by mroth</a></li><li><a href="https://www.codewars.com/kata/mobile-display-keystrokes" data-turbolinks="false" target="_blank">Mobile Display Keystrokes by zruF</a></li><li><a href="https://www.codewars.com/kata/thinking-and-testing-mobile-phone-simulator" data-turbolinks="false" target="_blank">Thinking &amp; Testing : Mobile phone simulator by myjinxin2015</a></li></ul>